<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tricycle Fare Optimizer - Tagum City</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <img src="logo.png" alt="City of Tagum Logo" id="cityLogo">
                </div>
                <div class="header-text">
                    <div class="city-name">City of Tagum</div>
                    <h1>üõ∫ Tricycle Fare Optimizer</h1>
                    <p class="subtitle">Smart fare prediction powered by AI</p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Map Section -->
            <section class="map-section">
                <div class="map-controls">
                    <button id="changeOriginBtn" class="btn btn-secondary">
                        üìç Change Origin Point
                    </button>
                    <button id="resetBtn" class="btn btn-danger">
                        üîÑ Reset Route
                    </button>
                </div>

                <!-- Destination Search -->
                <div class="destination-search">
                    <div class="search-container">
                        <input 
                            type="text" 
                            id="destinationSearch" 
                            class="search-input" 
                            placeholder="üîç Search destination or click map..."
                            autocomplete="off"
                        >
                        <div id="searchSuggestions" class="search-suggestions" style="display: none;"></div>
                    </div>
                </div>
                
                <div id="map"></div>
                
                <div class="coordinates-display">
                    <div class="coord-item">
                        <span class="coord-label">Origin:</span>
                        <span id="originCoords" class="coord-value">Not set</span>
                    </div>
                    <div class="coord-item">
                        <span class="coord-label">Destination:</span>
                        <span id="destCoords" class="coord-value">Not set</span>
                    </div>
                </div>
            </section>

            <!-- Parameters Panel -->
            <section class="parameters-section">
                <h2>Fare Prediction Parameters</h2>
                
                <form id="fareForm">
                    <!-- Distance Display -->
                    <div class="form-group">
                        <label for="distance">Distance (km)</label>
                        <input 
                            type="text" 
                            id="distance" 
                            class="form-control" 
                            readonly 
                            placeholder="Calculate route first"
                        >
                    </div>

                    <!-- Fuel Price -->
                    <div class="form-group">
                        <label for="fuelPrice">Fuel Price Range (‚Ç±/liter)</label>
                        <select id="fuelPrice" class="form-control" required>
                            <option value="">-- Select --</option>
                            <option value="‚Ç±20-29">‚Ç±20-29</option>
                            <option value="‚Ç±30-39">‚Ç±30-39</option>
                            <option value="‚Ç±40-49">‚Ç±40-49</option>
                            <option value="‚Ç±50-59">‚Ç±50-59</option>
                            <option value="‚Ç±60-69">‚Ç±60-69</option>
                            <option value="‚Ç±70-79">‚Ç±70-79</option>
                            <option value="‚Ç±80-89">‚Ç±80-89</option>
                            <option value="‚Ç±90-99">‚Ç±90-99</option>
                            <option value="‚Ç±100 & up">‚Ç±100 & up</option>
                        </select>
                    </div>

                    <!-- Time of Day -->
                    <div class="form-group">
                        <label for="timeOfDay">Time of Day</label>
                        <select id="timeOfDay" class="form-control" required>
                            <option value="">-- Select --</option>
                            <option value="Rush Hour Morning">Rush Hour Morning</option>
                            <option value="Off-Peak">Off-Peak</option>
                            <option value="Rush Hour Evening">Rush Hour Evening</option>
                        </select>
                    </div>

                    <!-- Weather -->
                    <div class="form-group">
                        <label for="weather">Weather Condition</label>
                        <select id="weather" class="form-control" required>
                            <option value="">-- Select --</option>
                            <option value="Sunny">‚òÄÔ∏è Sunny</option>
                            <option value="Rainy">üåßÔ∏è Rainy</option>
                        </select>
                    </div>

                    <!-- Vehicle Type -->
                    <div class="form-group">
                        <label for="vehicleType">Vehicle Type</label>
                        <select id="vehicleType" class="form-control" required>
                            <option value="">-- Select --</option>
                            <option value="Single Motor">Single Motor</option>
                            <option value="Tricycle">Tricycle</option>
                        </select>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" id="predictBtn" class="btn btn-primary">
                        <span class="btn-text">Predict Fare</span>
                        <span class="spinner" style="display: none;">‚è≥</span>
                    </button>
                </form>

                <!-- Prediction Result -->
                <div id="predictionResult" class="prediction-result" style="display: none;">
                    <h3>Predicted Fare</h3>
                    <div class="fare-amount" id="fareAmount">‚Ç±0.00</div>
                    <p class="result-note">Estimated fare based on your route and conditions</p>
                </div>

                <!-- Error Message -->
                <div id="errorMessage" class="error-message" style="display: none;"></div>

                <!-- Instructions -->
                <div class="instructions">
                    <h3>How to Use</h3>
                    <ol>
                        <li>Allow location access or click "Change Origin" to set your starting point</li>
                        <li>Search for a destination using the search bar or click on the map</li>
                        <li>Wait for the route to calculate (blue line)</li>
                        <li>Fill in all fare parameters</li>
                        <li>Click "Predict Fare" to get your estimate</li>
                    </ol>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by Random Forest ML | Map data ¬© <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors</p>
        </footer>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Custom JS -->
    <script src="app.js"></script>
</body>
</html>
